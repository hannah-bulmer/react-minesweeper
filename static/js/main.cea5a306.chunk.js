(this["webpackJsonpreact-minesweeper"]=this["webpackJsonpreact-minesweeper"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n.n(r);n(14),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(1),c=n(2),l=n(4),u=n(3),h=n(5),d=n(6),p=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){var t=n.state,a=t.clicked,i=t.value,r=t.saveValue,o=n.props,s=o.neighbours,c=o.x,l=o.y,u=o.isMine;u&&!e.shiftKey&&n.props.clickMine(),"\ud83d\udea9"!==i&&a||("\ud83d\udea9"===i&&(i=r),e.shiftKey?(i="\ud83d\udea9",n.props.setFlag(c,l)):(a=!0,0!==s||u||n.props.clearAllBlanks(c,l)),n.setState({clicked:a,value:i}))},n.state={clicked:n.props.isClicked,value:n.props.cellValue,saveValue:n.props.cellValue},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.value,n=e.clicked,a=this.props.isClicked;t=a||n||"\ud83d\udea9"===t?t:"";var r=a||n?"clicked square":"square";return i.a.createElement("button",{className:r,onClick:this.onClick},t)}}]),t}(i.a.Component),f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).clearAllBlanks=function(e,t){var a=n.state.board,i=n.props,r=i.width,o=i.height;r-=1,o-=1,0!==a[e][t].neighbours||a[e][t].isClicked?a[e][t].isMine||(a[e][t].isClicked=!0,n.setState({board:a})):(a[e][t].isClicked=!0,e>0&&n.clearAllBlanks(e-1,t),e<o&&n.clearAllBlanks(e+1,t),t>0&&n.clearAllBlanks(e,t-1),t<r&&n.clearAllBlanks(e,t+1),n.setState({board:a}))},n.setFlag=function(e,t){var a=n.state.board;console.log("set"),a[e][t].flag=!0,n.setState({board:a}),n.checkIfWon()},n.clickMine=function(){n.setState({lost:!0})},n.checkIfWon=function(){var e=n.state.board,t=0;e.forEach((function(e){e.forEach((function(e){e.isMine&&e.flag&&t++}))})),console.log(t),t===n.props.mineCounter&&n.setState({won:!0})},n.state={board:n.countNeighbours(),lost:!1,won:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createCell",value:function(){return{value:"",isMine:"",neighbours:0,flag:!1,isClicked:!1}}},{key:"createCells",value:function(){var e=this,t=this.props,n=t.height,a=t.width,i=[];return Object(d.a)(Array(n)).map((function(t,n){var r=[];Object(d.a)(Array(a)).map((function(t,n){return r.push(e.createCell())})),i.push(r)})),i}},{key:"placeMines",value:function(){for(var e=this.props,t=e.mineCounter,n=e.width,a=e.height,i=this.createCells();t>0;){var r=Math.floor(Math.random()*a),o=Math.floor(Math.random()*n);i[r][o].isMine||(i[r][o].isMine=!0,i[r][o].value="\ud83d\udca3",t-=1)}return i}},{key:"countNeighbours",value:function(){var e=this.props,t=e.width,n=e.height;n-=1,t-=1;var a=this.placeMines();return a.forEach((function(e,i){e.forEach((function(e,r){var o=0;i>0&&a[i-1][r].isMine&&(o+=1),i<n&&a[i+1][r].isMine&&(o+=1),r<t&&a[i][r+1].isMine&&(o+=1),r>0&&a[i][r-1].isMine&&(o+=1),i>0&&r>0&&a[i-1][r-1].isMine&&(o+=1),i<n&&r>0&&a[i+1][r-1].isMine&&(o+=1),i>0&&r<t&&a[i-1][r+1].isMine&&(o+=1),i<n&&r<t&&a[i+1][r+1].isMine&&(o+=1),a[i][r].neighbours=o,a[i][r].isMine||(a[i][r].value=0===o?"":o)}))})),a}},{key:"renderYouLose",value:function(){return i.a.createElement("div",null,"YOU LOSE")}},{key:"renderYouWon",value:function(){return i.a.createElement("div",null,"YOU WON")}},{key:"renderCellRows",value:function(e,t){var n=this,a=this.props.width;return Object(d.a)(Array(a)).map((function(a,r){return i.a.createElement(p,{cellValue:e[r].value,neighbours:e[r].neighbours,key:"".concat(e[r]).concat(r),isMine:e[r].isMine,clearAllBlanks:n.clearAllBlanks,clickMine:n.clickMine,isClicked:e[r].isClicked,setFlag:n.setFlag,x:t,y:r})}))}},{key:"renderBoard",value:function(){var e=this,t=this.props.height,n=this.state.board;return Object(d.a)(Array(t)).map((function(t,a){return i.a.createElement("div",{className:"board-row",key:"".concat(n[a]).concat(a)},e.renderCellRows(n[a],a))}))}},{key:"render",value:function(){return i.a.createElement("div",null,this.renderBoard(),this.state.lost&&this.renderYouLose(),this.state.won&&this.renderYouWon())}}]),t}(i.a.Component),v=(n(15),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,a=e.mineCounter;return i.a.createElement(f,{className:"game",height:t,width:n,mineCounter:a})}}]),t}(i.a.Component));o.a.render(i.a.createElement(v,{height:10,width:20,mineCounter:20}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.cea5a306.chunk.js.map